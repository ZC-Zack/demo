<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/signup/signup.css">

    <script src="webjars/jquery/3.4.1/dist/jquery.js"></script>
    <script>
        function onValidForm(){
            var username = $("#username").val();
            var password = $("#password").val();
            var type = $("#type").val();


            if(username == ""){
                alert("用户名不为空！");
            }
            if(password == ""){
                alert("密码不能为空！");
            }else{
                $.ajax({
                    type:"post",
                    url:"handleSignup",
                    data:{
                        username:username,
                        password:password,
                        type:type
                    },
                    success:function(result){
                        $("#username").val("");
                        $("#password").val("");
                        if(result == "signup"){
                            alert("登陆失败！");
                        }else{
                            alert("登陆成功！");
                        }
                        window.location = result;
                    }
                });
            }

        }

    </script>
</head>
<body>
<div class="SignFlowHomepage">
    <div class ="form">
        <form method = "POST">
            <div>
                <input type="text"  id = "username" placeholder="用户名"/>
            </div>
            <div>
                <input type="password" placeholder="密码" id = "password"/></br>
            </div>

            <select name="cars" id = "type">
                <option value="student" >我是学生</option>
                <option value="admin" >我是管理员</option>
            </select>
            </br>
            <button type="button" onclick="onValidForm()" >登陆</button>
        </form>
    </div>
</div>
</body>
</html>